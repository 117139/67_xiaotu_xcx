(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages_fk/policyAdd/policyAdd"],{102:
/*!*****************************************************************************************!*\
  !*** E:/phpStudy/WWW/67_xiaotu_xcx/main.js?{"page":"pages_fk%2FpolicyAdd%2FpolicyAdd"} ***!
  \*****************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4);o(n(/*! vue */2));var t=o(n(/*! ./pages_fk/policyAdd/policyAdd.vue */103));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},103:
/*!**********************************************************************!*\
  !*** E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue ***!
  \**********************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./policyAdd.vue?vue&type=template&id=72e7072e&scoped=true& */104),i=n(/*! ./policyAdd.vue?vue&type=script&lang=js& */106);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(/*! ./policyAdd.vue?vue&type=style&index=0&id=72e7072e&scoped=true&lang=css& */108);var r,s=n(/*! ../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),c=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"72e7072e",null,!1,o["components"],r);c.options.__file="pages_fk/policyAdd/policyAdd.vue",t["default"]=c.exports},104:
/*!*****************************************************************************************************************!*\
  !*** E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue?vue&type=template&id=72e7072e&scoped=true& ***!
  \*****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./policyAdd.vue?vue&type=template&id=72e7072e&scoped=true& */105);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},105:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue?vue&type=template&id=72e7072e&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return r})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return o}));try{o={z_text:function(){return Promise.all(/*! import() | components/z_text/z_text */[n.e("common/vendor"),n.e("components/z_text/z_text")]).then(n.bind(null,/*! @/components/z_text/z_text.vue */195))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.sj_img?e.getimg(e.sj_img):null),o=e.sj_img?null:e.getimg("/static/web/images/upimg.png");e._isMounted||(e.e0=function(t){e.tk_show1=!0},e.e1=function(t){e.tk_show1=!1},e.e2=function(t){e.tk_show1=!1}),e.$mp.data=Object.assign({},{$root:{m0:n,m1:o}})},a=!1,r=[];i._withStripped=!0},106:
/*!***********************************************************************************************!*\
  !*** E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./policyAdd.vue?vue&type=script&lang=js& */107),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},107:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(/*! vue */2));var o,i=r(n(/*! ../../service.js */8)),a=n(/*! vuex */10);function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{htmlReset:-1,id:"",applicant:"",insured:"",insurance_ent:"",insured_name:"",insured_sn:"",array_lb:[],index_lb:0,month_list:["01","02","03","04","05","06","07","08","09","10","11","12"],day_list:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],fees_end_time:[0,0],array_qx:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],index_qx:0,fees_price:"",coverage:"",array_be:["元","万元"],index_be:0,array_bz:["终身","定期"],index_bz:0,safeguard_time:"",fees_account:"",buy_time:"",is_effect:!0,is_remind:!0,startDate:"1900-01-01",endDate:"2800-12-30",tk_show1:!1,sj_img:""}},computed:c({},(0,a.mapState)(["hasLogin","forcedLogin","userName","loginDatas"])),onLoad:function(e){o=this,o.getdata(),e.id&&(o.id=e.id)},methods:{pick_fuc:function(e){console.log(e)},zhxq_fuc:function(e){console.log(e),this.tk_show1=!1,0==this.zhxq.length&&(this.fees_end_time=[0,0])},bindPickerChange:function(e){"lb"==e.currentTarget.dataset.type&&(o.index_lb=e.target.value),"qx"==e.currentTarget.dataset.type&&(o.index_qx=e.target.value),"be"==e.currentTarget.dataset.type&&(o.index_be=e.target.value),"bz"==e.currentTarget.dataset.type&&(o.index_bz=e.target.value),"zhxq"==e.currentTarget.dataset.type&&(this.fees_end_time=e.detail.value,console.log(this.fees_end_time))},bindTimeChange:function(e){console.log("switch1 发生 change 事件，携带值为",e.target.value);var t=e.target.value+"";"buy"==e.currentTarget.dataset.type&&(o.buy_time=t.split("-").join("/")),"end"==e.currentTarget.dataset.type&&(o.safeguard_time=t.split("-").join("/"))},getdata:function(){var t=this,n={token:t.loginDatas.userToken},o="/policy/getBdCate";this.page;i.default.P_get(o,n).then((function(n){if(t.btn_kg=0,console.log(n),1==n.code){t.htmlReset=0,e.setNavigationBarTitle({title:"编辑保单"});var o=n.data;console.log(typeof o),"string"==typeof o&&(o=JSON.parse(o)),t.datas=o,t.array_lb=o.policyData,t.policyData=o.InsuranceCompanyData,t.id&&t.getmsg()}else n.msg?e.showToast({icon:"none",title:n.msg}):e.showToast({icon:"none",title:"操作失败"})})).catch((function(n){t.btn_kg=0,console.log(n),e.showToast({icon:"none",title:"获取数据失败"})}))},getmsg:function(){var t=this,n={token:t.loginDatas.userToken,id:t.id},o="/policy/edit";this.page;i.default.P_get(o,n).then((function(n){if(t.btn_kg=0,console.log(n),1==n.code){var o=n.data;console.log(typeof o),"string"==typeof o&&(o=JSON.parse(o));var i=o.details;t.applicant=i.applicant,t.insured=i.insured,t.insurance_ent=i.insurance_ent,t.insured_name=i.insured_name,t.insured_sn=i.insured_sn,console.log("index_lb",t.getindex(t.array_lb,i.insured_type)),t.index_lb=t.getindex(t.array_lb,i.insured_type);var a=i.date_fees_end_time1.split("-");console.log("fees_end_time[0]",t.getindex(t.month_list,a[1])),console.log("fees_end_time[1]",t.getindex(t.month_list,a[2])),t.fees_end_time[0]=t.getindex(t.month_list,a[1]),t.fees_end_time[1]=t.getindex(t.day_list,a[2]),t.index_qx=t.getindex(t.array_qx,i.fees_day),t.fees_price=i.fees_price,t.coverage=i.coverage,console.log("index_be",t.getindex(t.array_be,i.coverage_unit)),t.index_be=t.getindex(t.array_be,i.coverage_unit),console.log("index_bz",t.getindex(t.array_bz,i.safeguard_type)),t.index_bz=t.getindex(t.array_bz,i.safeguard_type),t.safeguard_time=i.safeguard_time,t.fees_account=i.fees_account,t.buy_time=i.buy_time,t.is_effect=i.is_effect,t.is_remind=i.is_remind,t.sj_img=i.warranty_pic}else n.msg?e.showToast({icon:"none",title:n.msg}):e.showToast({icon:"none",title:"操作失败"})})).catch((function(n){t.btn_kg=0,console.log(n),e.showToast({icon:"none",title:"获取数据失败"})}))},getindex:function(e,t){if(e.length>0){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1}return-1},layerMsg:function(t){e.showToast({icon:"none",title:t})},formSubmit:function(t){console.log("form发生了submit事件，携带数据为："+JSON.stringify(t.detail.value));var n=t.detail.value,a=n;if(""!=a.applicant)if(""!=a.insured)if(""!=a.insurance_ent)if(""!=a.insured_name)if(""!=a.insured_type)if(""!=a.fees_end_time)if(""!=a.fees_day)if(""!=a.fees_price)if(""!=a.coverage)if(""!=a.safeguard_type)if(""!=a.fees_account)if(""!=a.buy_time)if(""!=a.warranty_pic){var r=a,s="/policy/save";o.id&&(s="/policy/update");this.page;i.default.P_post(s,r).then((function(t){if(o.btn_kg=0,console.log(t),1==t.code){var n=t.data;console.log(typeof n),"string"==typeof n&&(n=JSON.parse(n)),o.layerMsg("提交成功"),setTimeout((function(){e.navigateBack({delta:1})}),1e3)}else t.msg?e.showToast({icon:"none",title:t.msg}):e.showToast({icon:"none",title:"操作失败"})})).catch((function(t){o.btn_kg=0,console.log(t),e.showToast({icon:"none",title:"操作失败"})}))}else o.layerMsg("请上传保单");else o.layerMsg("请先选择购买时间");else o.layerMsg("请先填写缴费账户");else o.layerMsg("请先选择保障期限");else o.layerMsg("请先填写保额");else o.layerMsg("请先填写保费");else o.layerMsg("请先选择缴费期限");else o.layerMsg("请先选择缴费时间");else o.layerMsg("请先选择类别");else o.layerMsg("请先填写保险产品");else o.layerMsg("请先填写保险公司");else o.layerMsg("请先填写被保险人");else o.layerMsg("请先填写投保人")},formReset:function(e){console.log("清空数据")},upimg:function(){var t=this,n=1;e.chooseImage({count:n,sizeType:["original","compressed"],sourceType:["album"],success:function(e){console.log(e);var n=e.tempFilePaths,o=t.sj_img.length;9!=o?t.upimg1(n,0):wx.showToast({icon:"none",title:"最多可上传九张"})}})},upimg1:function(t,n){var o=this,a=o.sj_img.length;Number(a),Number(n);9!=a?e.uploadFile({url:i.default.IPurl+"/upload/streamImg",filePath:t[n],name:"file",formData:{type:1,token:o.loginDatas.userToken},success:function(i){var a=JSON.parse(i.data);1==a.code?(console.log(t[n],n,a.img_url),console.log(n),o.sj_img=a.msg):e.showToast({icon:"none",title:"上传失败"})}}):wx.showToast({icon:"none",title:"最多可上传九张"})},imgdel:function(t){var n=this;console.log(t.currentTarget.dataset.idx),e.showModal({title:"提示",content:"确定要删除这张图片吗",success:function(e){e.confirm?(console.log("用户点击确定",t.currentTarget.dataset.type),n.sj_img=""):e.cancel&&console.log("用户点击取消")}})},gettime:function(e){var t="/";e=new Date(e);var n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate();o>=1&&o<=9&&(o="0"+o),i>=0&&i<=9&&(i="0"+i);var a=n+t+o+t+i;return a},switch1Change:function(e){console.log("switch1 发生 change 事件，携带值为",e.currentTarget.dataset.num),1==e.currentTarget.dataset.num&&(o.is_effect=e.target.value),2==e.currentTarget.dataset.num&&(o.is_remind=e.target.value),console.log("switch1 发生 change 事件，携带值为",e.target.value)},getimg:function(e){return i.default.getimg(e)}}};t.default=u}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},108:
/*!*******************************************************************************************************************************!*\
  !*** E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue?vue&type=style&index=0&id=72e7072e&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./policyAdd.vue?vue&type=style&index=0&id=72e7072e&scoped=true&lang=css& */109),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},109:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/phpStudy/WWW/67_xiaotu_xcx/pages_fk/policyAdd/policyAdd.vue?vue&type=style&index=0&id=72e7072e&scoped=true&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[102,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages_fk/policyAdd/policyAdd.js.map